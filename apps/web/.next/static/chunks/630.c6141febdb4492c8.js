(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{2820:function(){},6892:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var l=s(8850),a=s(2568),r=s(5955),n=s(5699),d=s(1932),i=s(7302),o=s(9720),c=s(6422);let x={history:["Initial placeholder state"],historyIndex:0},u=(0,c.Ue)(e=>({...x,assets:[],pushState:t=>e(e=>{let s=e.history.slice(0,e.historyIndex+1).concat(t).slice(-20);return{history:s,historyIndex:s.length-1}}),undo:()=>e(e=>({historyIndex:Math.max(0,e.historyIndex-1)})),redo:()=>e(e=>({historyIndex:Math.min(e.history.length-1,e.historyIndex+1)})),addAsset:t=>e(e=>({assets:e.assets.concat(t)})),removeAsset:t=>e(e=>({assets:e.assets.filter(e=>e.id!==t)}))}));function m(){let e=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let{width:l,height:a}=t,r=s.createLinearGradient(0,0,l,a);r.addColorStop(0,"#1f2937"),r.addColorStop(1,"#111827"),s.fillStyle=r,s.fillRect(0,0,l,a),s.strokeStyle="#6366f1",s.lineWidth=4,s.strokeRect(40,40,l-80,a-80),s.fillStyle="#e0e7ff",s.font="24px Inter, sans-serif",s.fillText("Canvas placeholder",60,120),s.font="16px Inter, sans-serif",s.fillStyle="#cbd5f5",s.fillText("Phase 0 – Hook in future rendering engine here.",60,160)},[]),(0,l.jsxs)("div",{className:"relative flex flex-1 items-center justify-center bg-slate-950/60",children:[(0,l.jsx)("canvas",{ref:e,width:960,height:540,className:"h-full max-h-full w-full max-w-full rounded-2xl bg-slate-950/90 shadow-lg ring-1 ring-black/[0.08]"}),(0,l.jsx)("div",{className:"pointer-events-none absolute bottom-6 right-6 rounded-full border border-brand/40 bg-brand/10 px-3 py-1 text-xs text-brand",children:"Mock renderer"})]})}var h=s(2606),f=s(4321);async function b(e){let t=(0,f.x)(10);return{fileKey:"mock_".concat(e.slug,"_").concat(t),url:"https://example.com/mock-assets/".concat(t,"?filename=").concat(encodeURIComponent(e.file.name)),metadata:{size:e.file.size,type:e.file.type}}}function p(){let e=(0,r.useRef)(null),t=u(e=>e.addAsset),[s,a]=(0,r.useState)(!1),n=u(e=>e.assets.filter(e=>"upload"===e.source)),d=async s=>{var l,r;let n=null===(l=s.target.files)||void 0===l?void 0:l[0];if(n){a(!0);try{let e=await b({file:n,slug:"editor-assets"});t((r=n.name,{id:e.fileKey,name:r,url:e.url,source:"upload"}))}finally{a(!1),e.current&&(e.current.value="")}}};return(0,l.jsxs)("section",{className:"flex flex-col gap-3 rounded-2xl border border-slate-900 bg-slate-950/70 p-4",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-sm font-semibold text-slate-200",children:"Uploads"}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:"Mocked via UploadThing"})]}),(0,l.jsx)("p",{className:"text-xs text-slate-400",children:"Uploads are simulated. Replace this with the real UploadThing flow once credentials are provisioned."}),(0,l.jsxs)("label",{className:"flex cursor-pointer flex-col items-center gap-2 rounded-xl border border-dashed border-slate-800 bg-slate-900/60 p-4 text-center transition hover:border-brand/40 hover:bg-brand/5",children:[(0,l.jsx)(h.Z,{className:"h-8 w-8 text-brand","aria-hidden":"true"}),(0,l.jsx)("span",{className:"text-xs font-medium text-slate-200",children:s?"Uploading…":"Select file"}),(0,l.jsx)("input",{ref:e,type:"file",className:"hidden",onChange:d,disabled:s})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2 text-xs text-slate-300",children:0===n.length?(0,l.jsx)("p",{className:"text-slate-500",children:"No uploads yet."}):n.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-slate-900/60 bg-slate-900/50 px-3 py-2",children:[(0,l.jsx)("span",{className:"truncate text-slate-200",children:e.name}),(0,l.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-brand hover:underline",children:"Preview"})]},e.id))})]})}var g=s(4736);let v=[{label:"Auto (recommended)",value:"auto"},{label:"Gemini Image (Nano Banana)",value:"gemini"},{label:"OpenAI GPT Image",value:"openai"}];function j(){let[e,t]=(0,r.useState)("Generate a dramatic concept art scene with neon lighting."),[s,a]=(0,r.useState)(v[0].value),[n,d]=(0,r.useState)(!1),i=u(e=>e.pushState);return(0,l.jsxs)("section",{className:"flex flex-col gap-3 rounded-2xl border border-slate-900 bg-slate-950/70 p-4",children:[(0,l.jsxs)("header",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.Z,{className:"h-5 w-5 text-brand","aria-hidden":"true"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-sm font-semibold text-slate-200",children:"AI Prompting"}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Routes requests to Gemini or GPT Image in later phases."})]})]}),(0,l.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:t=>{t.preventDefault(),e.trim()&&(d(!0),setTimeout(()=>{i("[mock-generation] provider=".concat(s,' :: prompt="').concat(e.trim(),'"')),d(!1)},450))},children:[(0,l.jsxs)("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-300",children:["Prompt",(0,l.jsx)("textarea",{className:"min-h-[110px] rounded-xl border border-slate-800 bg-slate-950/50 p-3 text-sm text-slate-200 outline-none focus:border-brand/60 focus:ring-2 focus:ring-brand/30",value:e,onChange:e=>t(e.target.value),placeholder:"Describe the scene you want to generate…"})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-300",children:["Provider",(0,l.jsx)("select",{className:"rounded-xl border border-slate-800 bg-slate-950/50 p-2 text-sm text-slate-200 outline-none focus:border-brand/60 focus:ring-2 focus:ring-brand/30",value:s,onChange:e=>a(e.target.value),children:v.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-brand px-4 py-2 text-sm font-semibold text-white transition hover:bg-brand/90 disabled:cursor-not-allowed disabled:bg-slate-700",disabled:n,children:n?"Sending prompt…":"Send prompt"})]})]})}var N=s(6440);let y=e=>{let{icon:t,label:s,onClick:a,disabled:r}=e;return(0,l.jsxs)("button",{type:"button",onClick:a,disabled:r,className:"inline-flex items-center gap-2 rounded-md border border-slate-800 px-3 py-2 text-xs font-medium transition ".concat(r?"cursor-not-allowed bg-slate-900/50 text-slate-500":"bg-slate-900 text-slate-200 hover:bg-slate-800"),children:[(0,l.jsx)(t,{className:"h-4 w-4","aria-hidden":"true"}),s]})};function w(){var e,t,s,c,x;let{isLoaded:h,isSignedIn:f,user:b}=(0,i.aF)(),{undo:g,redo:v,canUndo:w,canRedo:I}=u(e=>({undo:e.undo,redo:e.redo,canUndo:e.historyIndex>0,canRedo:e.historyIndex<e.history.length-1})),k=(0,r.useMemo)(()=>{var e,t,s;return b?(null!==(s=null!==(t=null!==(e=b.fullName)&&void 0!==e?e:b.username)&&void 0!==t?t:[b.firstName,b.lastName].filter(Boolean).join(" "))&&void 0!==s?s:b.id).split(" ").filter(Boolean).map(e=>{var t;return null!==(t=e[0])&&void 0!==t?t:""}).join("").slice(0,2).toUpperCase():"AI"},[b]),S=null!==(x=null!==(c=null==b?void 0:null===(e=b.primaryEmailAddress)||void 0===e?void 0:e.emailAddress)&&void 0!==c?c:null==b?void 0:null===(s=b.emailAddresses)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.emailAddress)&&void 0!==x?x:"session@pending.dev";return h?(0,l.jsxs)("div",{className:"flex min-h-screen flex-col bg-slate-950 text-slate-100",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between border-b border-slate-900/60 bg-slate-950/80 px-6 py-4 backdrop-blur",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a.default,{href:"/",className:"text-sm font-semibold text-slate-300",children:"← Back to overview"}),(0,l.jsx)("span",{className:"rounded-full border border-brand/40 bg-brand/10 px-3 py-1 text-xs uppercase tracking-widest text-brand",children:"Phase 0 Shell"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(y,{icon:n.Z,label:"Undo",onClick:g,disabled:!w}),(0,l.jsx)(y,{icon:d.Z,label:"Redo",onClick:v,disabled:!I})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(o.tj,{children:(0,l.jsx)(i.$d,{mode:"modal",children:(0,l.jsx)("button",{className:"rounded-md border border-brand/40 bg-brand/10 px-3 py-2 text-xs font-medium text-brand transition hover:bg-brand/20",children:"Sign in to continue"})})}),(0,l.jsxs)(o.CH,{children:[(0,l.jsx)("span",{className:"rounded-full border border-slate-800 bg-slate-900 px-3 py-1 text-xs text-slate-300",children:f?"Session: ".concat(S):"Authenticating…"}),(0,l.jsxs)("div",{className:"flex h-9 items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full border border-slate-800 bg-slate-900 font-semibold text-slate-200",children:k}),(0,l.jsx)(i.l8,{appearance:{elements:{avatarBox:"h-9 w-9"}}}),(0,l.jsx)(i.AM,{children:(0,l.jsx)("button",{className:"rounded-md border border-slate-800 bg-slate-900 px-3 py-2 text-xs text-slate-300 transition hover:bg-slate-800",children:"Sign out"})})]})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,l.jsxs)("aside",{className:"flex w-80 flex-col gap-6 border-r border-slate-900/60 bg-slate-950 p-5",children:[(0,l.jsx)(j,{}),(0,l.jsx)(p,{})]}),(0,l.jsx)("main",{className:"flex flex-1 flex-col gap-6 overflow-hidden bg-slate-950 p-6",children:(0,l.jsx)("section",{className:"flex flex-1 overflow-hidden rounded-2xl border border-slate-900/60 bg-slate-900/40 shadow-inner",children:(0,l.jsx)(m,{})})})]}),(0,l.jsxs)("footer",{className:"flex items-center justify-between border-t border-slate-900/60 bg-slate-950 px-6 py-3 text-xs text-slate-500",children:[(0,l.jsx)("span",{children:"AI Image Editor – Phase 0 scaffold. AI providers and uploads currently operate in mock mode."}),(0,l.jsxs)("span",{children:["Undo: ",w?"available":"n/a"," \xb7 Redo: ",I?"available":"n/a"]})]})]}):(0,l.jsx)(N.D,{})}}}]);